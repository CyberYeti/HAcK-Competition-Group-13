{"ast":null,"code":"var _jsxFileName = \"/home/yit-meng/Desktop/Github/HAcK-Competition-Group-13/HaCK_Starter_Code/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport LiveSensorData from \"./components/LiveSensorData\";\nimport axios from \"axios\";\n\n// Connect to backend\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:8000\");\nfunction App() {\n  _s();\n  const [chat, setChat] = useState([]);\n  const [promptInput, setPromptInput] = useState(\"\");\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [pictureStatus, setPictureStatus] = useState(\"\");\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      console.log(\"Connected:\", socket.id);\n    });\n    socket.on(\"picture_taken\", data => {\n      setPictureStatus(data.message);\n      setTimeout(() => setPictureStatus(\"\"), 3000);\n    });\n    return () => {\n      socket.off(\"picture_taken\");\n    };\n  }, []);\n\n  //Test Cam Stuff\n  async function downloadEsp32Image() {\n    const imageUrl = \"http://192.168.50.75/1024x768.jpg\";\n    try {\n      const response = await fetch(imageUrl, {\n        method: \"GET\",\n        cache: \"no-store\" // Prevent caching\n      });\n      if (!response.ok) {\n        throw new Error(`Failed to fetch image: ${response.status}`);\n      }\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n\n      // Create a temporary link and trigger download\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `esp32-snapshot.jpg`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      // Optional: revoke object URL after use\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error(\"Error downloading image from ESP32-CAM:\", err);\n    }\n  }\n  const esp32Ip = \"192.168.50.75\";\n  const [imgSrc, setImgSrc] = useState(null);\n  const handleTakePicture = async () => {\n    // downloadEsp32Image()\n    saveAs(\"http://192.168.50.75/1024x768.jpg\", \"Twitter-Cam\");\n    // setImgSrc(\"http://192.168.50.75/1024x768.jpg\")\n  };\n  const handleCapture = () => {\n    setCapturedImage(\"/placeholder.png\");\n    setUploadedImage(null); // clear upload if using placeholder\n    setPromptInput(\"What do you see in this image?\");\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setUploadedImage(file);\n      setCapturedImage(URL.createObjectURL(file));\n    }\n  };\n  const handleAnalyze = async () => {\n    const formData = new FormData();\n    if (uploadedImage) {\n      formData.append(\"image\", uploadedImage);\n    } else if (capturedImage) {\n      const res = await fetch(capturedImage);\n      const blob = await res.blob();\n      formData.append(\"image\", blob, \"captured.png\");\n    } else {\n      console.error(\"‚ùå No image to send.\");\n      return;\n    }\n    const prompt = promptInput || \"Who is in this image?\";\n    formData.append(\"prompt\", prompt);\n    try {\n      // ‚úÖ this must go to /api/chatgpt-image\n      const res = await axios.post(\"http://localhost:8000/api/chatgpt-image\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      const aiReply = res.data.reply || \"(No response)\";\n      setChat(prev => [...prev, {\n        role: \"user\",\n        content: prompt\n      }, {\n        role: \"assistant\",\n        content: aiReply\n      }]);\n      setPromptInput(\"\");\n    } catch (err) {\n      console.error(\"‚ùå Vision error:\", err);\n      setChat(prev => [...prev, {\n        role: \"assistant\",\n        content: \"‚ùå Failed to analyze image.\"\n      }]);\n    }\n  };\n  const handleSend = async () => {\n    if (!promptInput.trim()) return;\n    const userMessage = {\n      role: \"user\",\n      content: promptInput\n    };\n    setChat(prev => [...prev, userMessage]);\n    try {\n      const res = await axios.post(\"http://localhost:8000/api/chatgpt\", {\n        prompt: promptInput\n      });\n      const aiReply = res.data.reply || \"(No response)\";\n      const assistantMessage = {\n        role: \"assistant\",\n        content: aiReply\n      };\n      setChat(prev => [...prev, assistantMessage]);\n    } catch (err) {\n      console.error(\"Text prompt error:\", err);\n      setChat(prev => [...prev, {\n        role: \"assistant\",\n        content: \"‚ö†Ô∏è Error getting reply from assistant.\"\n      }]);\n    }\n    setPromptInput(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"2rem\",\n      maxWidth: \"600px\",\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: \"\\uD83D\\uDD75\\uFE0F Operator Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFileUpload\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: \"1rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCapture,\n        children: \"\\uD83D\\uDCF8 Use Placeholder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleTakePicture,\n        children: \"Take Picture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), imgSrc && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"http://192.168.50.75/1024x768.jpg\",\n        alt: \"ESP32 Snapshot\",\n        style: {\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), capturedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"10px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: capturedImage,\n        alt: \"Captured\",\n        style: {\n          width: \"100%\",\n          borderRadius: 8,\n          border: \"1px solid #ccc\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, this), (uploadedImage || capturedImage) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"1rem\",\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAnalyze,\n        children: \"\\uD83D\\uDD0D Analyze Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"2rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Ask the assistant anything...\",\n        value: promptInput,\n        onChange: e => setPromptInput(e.target.value),\n        rows: 3,\n        style: {\n          width: \"100%\",\n          padding: \"0.5rem\",\n          borderRadius: \"4px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        style: {\n          marginTop: \"0.5rem\"\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"2rem\"\n      },\n      children: chat.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: msg.role === \"user\" ? \"#eef\" : \"#f5f5f5\",\n          padding: \"0.75rem\",\n          borderRadius: \"6px\",\n          marginBottom: \"0.5rem\",\n          textAlign: msg.role === \"user\" ? \"right\" : \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: [msg.role === \"user\" ? \"You\" : \"AI\", \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), \" \", msg.content]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"2rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(LiveSensorData, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), pictureStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"green\"\n      },\n      children: pictureStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"BKmYTSss+7LOwlnVZmMNoF8NJqg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","io","LiveSensorData","axios","jsxDEV","_jsxDEV","socket","App","_s","chat","setChat","promptInput","setPromptInput","uploadedImage","setUploadedImage","capturedImage","setCapturedImage","pictureStatus","setPictureStatus","on","console","log","id","data","message","setTimeout","off","downloadEsp32Image","imageUrl","response","fetch","method","cache","ok","Error","status","blob","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","err","error","esp32Ip","imgSrc","setImgSrc","handleTakePicture","saveAs","handleCapture","handleFileUpload","e","file","target","files","handleAnalyze","formData","FormData","append","res","prompt","post","headers","aiReply","reply","prev","role","content","handleSend","trim","userMessage","assistantMessage","style","padding","maxWidth","margin","children","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","marginTop","onClick","src","alt","width","borderRadius","border","placeholder","value","rows","map","msg","i","background","marginBottom","color","_c","$RefreshReg$"],"sources":["/home/yit-meng/Desktop/Github/HAcK-Competition-Group-13/HaCK_Starter_Code/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport LiveSensorData from \"./components/LiveSensorData\";\nimport axios from \"axios\";\n\n// Connect to backend\nconst socket = io(\"http://localhost:8000\");\n\nfunction App() {\n  const [chat, setChat] = useState([]);\n  const [promptInput, setPromptInput] = useState(\"\");\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [capturedImage, setCapturedImage] = useState(null);\n  const [pictureStatus, setPictureStatus] = useState(\"\");\n\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      console.log(\"Connected:\", socket.id);\n    });\n\n    socket.on(\"picture_taken\", (data) => {\n      setPictureStatus(data.message);\n      setTimeout(() => setPictureStatus(\"\"), 3000);\n    });\n\n    return () => {\n      socket.off(\"picture_taken\");\n    };\n  }, []);\n\n  //Test Cam Stuff\n  async function downloadEsp32Image() {\n    const imageUrl = \"http://192.168.50.75/1024x768.jpg\";\n\n    try {\n      const response = await fetch(imageUrl, {\n        method: \"GET\",\n        cache: \"no-store\", // Prevent caching\n      });\n\n      if (!response.ok) {\n        throw new Error(`Failed to fetch image: ${response.status}`);\n      }\n\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n\n      // Create a temporary link and trigger download\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `esp32-snapshot.jpg`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      // Optional: revoke object URL after use\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error(\"Error downloading image from ESP32-CAM:\", err);\n    }\n  }\n\n\n  const esp32Ip = \"192.168.50.75\";\n  const [imgSrc, setImgSrc] = useState(null);\n\n  const handleTakePicture = async () => {\n    // downloadEsp32Image()\n    saveAs(\"http://192.168.50.75/1024x768.jpg\", \"Twitter-Cam\");\n    // setImgSrc(\"http://192.168.50.75/1024x768.jpg\")\n  };\n  \n\n  const handleCapture = () => {\n    setCapturedImage(\"/placeholder.png\");\n    setUploadedImage(null); // clear upload if using placeholder\n    setPromptInput(\"What do you see in this image?\");\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setUploadedImage(file);\n      setCapturedImage(URL.createObjectURL(file));\n    }\n  };\n\n  const handleAnalyze = async () => {\n    const formData = new FormData();\n\n    if (uploadedImage) {\n      formData.append(\"image\", uploadedImage);\n    } else if (capturedImage) {\n      const res = await fetch(capturedImage);\n      const blob = await res.blob();\n      formData.append(\"image\", blob, \"captured.png\");\n    } else {\n      console.error(\"‚ùå No image to send.\");\n      return;\n    }\n\n    const prompt = promptInput || \"Who is in this image?\";\n    formData.append(\"prompt\", prompt);\n\n    try {\n      // ‚úÖ this must go to /api/chatgpt-image\n      const res = await axios.post(\n        \"http://localhost:8000/api/chatgpt-image\",\n        formData,\n        {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        }\n      );\n\n      const aiReply = res.data.reply || \"(No response)\";\n      setChat((prev) => [\n        ...prev,\n        { role: \"user\", content: prompt },\n        { role: \"assistant\", content: aiReply },\n      ]);\n      setPromptInput(\"\");\n    } catch (err) {\n      console.error(\"‚ùå Vision error:\", err);\n      setChat((prev) => [\n        ...prev,\n        { role: \"assistant\", content: \"‚ùå Failed to analyze image.\" },\n      ]);\n    }\n  };\n\n  const handleSend = async () => {\n    if (!promptInput.trim()) return;\n\n    const userMessage = { role: \"user\", content: promptInput };\n    setChat((prev) => [...prev, userMessage]);\n\n    try {\n      const res = await axios.post(\"http://localhost:8000/api/chatgpt\", {\n        prompt: promptInput,\n      });\n\n      const aiReply = res.data.reply || \"(No response)\";\n      const assistantMessage = { role: \"assistant\", content: aiReply };\n      setChat((prev) => [...prev, assistantMessage]);\n    } catch (err) {\n      console.error(\"Text prompt error:\", err);\n      setChat((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \"‚ö†Ô∏è Error getting reply from assistant.\",\n        },\n      ]);\n    }\n\n    setPromptInput(\"\");\n  };\n\n  return (\n    <div style={{ padding: \"2rem\", maxWidth: \"600px\", margin: \"0 auto\" }}>\n      <h1 style={{ textAlign: \"center\" }}>üïµÔ∏è Operator Dashboard</h1>\n\n      {/* üñº Upload Image */}\n      <div>\n        <input type=\"file\" accept=\"image/*\" onChange={handleFileUpload} />\n      </div>\n\n      {/* üì∏ Capture Image */}\n      <div style={{ textAlign: \"center\", marginTop: \"1rem\" }}>\n        <button onClick={handleCapture}>üì∏ Use Placeholder</button>\n      </div>\n\n      {/*Test Cam stuff*/}\n      <div>\n        <button onClick={handleTakePicture}>Take Picture</button>\n        {imgSrc && <img src={\"http://192.168.50.75/1024x768.jpg\"} alt=\"ESP32 Snapshot\" style={{ width: \"100%\" }} />}\n      </div>\n\n      {/* üì∑ Show Captured/Uploaded */}\n      {capturedImage && (\n        <div style={{ marginTop: \"10px\" }}>\n          <img\n            src={capturedImage}\n            alt=\"Captured\"\n            style={{ width: \"100%\", borderRadius: 8, border: \"1px solid #ccc\" }}\n          />\n        </div>\n      )}\n\n      {(uploadedImage || capturedImage) && (\n        <div style={{ marginTop: \"1rem\", textAlign: \"center\" }}>\n          <button onClick={handleAnalyze}>üîç Analyze Image</button>\n        </div>\n      )}\n\n      {/* üí¨ Prompt Input */}\n      <div style={{ marginTop: \"2rem\" }}>\n        <textarea\n          placeholder=\"Ask the assistant anything...\"\n          value={promptInput}\n          onChange={(e) => setPromptInput(e.target.value)}\n          rows={3}\n          style={{ width: \"100%\", padding: \"0.5rem\", borderRadius: \"4px\" }}\n        />\n        <button onClick={handleSend} style={{ marginTop: \"0.5rem\" }}>\n          Send\n        </button>\n      </div>\n\n      {/* üß† Chat History */}\n      <div style={{ marginTop: \"2rem\" }}>\n        {chat.map((msg, i) => (\n          <div\n            key={i}\n            style={{\n              background: msg.role === \"user\" ? \"#eef\" : \"#f5f5f5\",\n              padding: \"0.75rem\",\n              borderRadius: \"6px\",\n              marginBottom: \"0.5rem\",\n              textAlign: msg.role === \"user\" ? \"right\" : \"left\",\n            }}\n          >\n            <b>{msg.role === \"user\" ? \"You\" : \"AI\"}:</b> {msg.content}\n          </div>\n        ))}\n      </div>\n\n      {/* üì° Sensor Data */}\n      <div style={{ marginTop: \"2rem\" }}>\n        <LiveSensorData />\n      </div>\n\n      {/* ‚úÖ Status */}\n      {pictureStatus && <p style={{ color: \"green\" }}>{pictureStatus}</p>}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,EAAE,MAAM,kBAAkB;AACjC,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,MAAM,GAAGL,EAAE,CAAC,uBAAuB,CAAC;AAE1C,SAASM,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACc,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEtDC,SAAS,CAAC,MAAM;IACdM,MAAM,CAACa,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEf,MAAM,CAACgB,EAAE,CAAC;IACtC,CAAC,CAAC;IAEFhB,MAAM,CAACa,EAAE,CAAC,eAAe,EAAGI,IAAI,IAAK;MACnCL,gBAAgB,CAACK,IAAI,CAACC,OAAO,CAAC;MAC9BC,UAAU,CAAC,MAAMP,gBAAgB,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;IAC9C,CAAC,CAAC;IAEF,OAAO,MAAM;MACXZ,MAAM,CAACoB,GAAG,CAAC,eAAe,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,eAAeC,kBAAkBA,CAAA,EAAG;IAClC,MAAMC,QAAQ,GAAG,mCAAmC;IAEpD,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,QAAQ,EAAE;QACrCG,MAAM,EAAE,KAAK;QACbC,KAAK,EAAE,UAAU,CAAE;MACrB,CAAC,CAAC;MAEF,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0BL,QAAQ,CAACM,MAAM,EAAE,CAAC;MAC9D;MAEA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAI,CAAC,CAAC;MAClC,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;;MAErC;MACA,MAAMI,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,IAAI,GAAGN,GAAG;MACfG,IAAI,CAACI,QAAQ,GAAG,oBAAoB;MACpCH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,IAAI,CAAC;MAC/BA,IAAI,CAACO,KAAK,CAAC,CAAC;MACZN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,IAAI,CAAC;;MAE/B;MACAF,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC;IAC1B,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZ9B,OAAO,CAAC+B,KAAK,CAAC,yCAAyC,EAAED,GAAG,CAAC;IAC/D;EACF;EAGA,MAAME,OAAO,GAAG,eAAe;EAC/B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGvD,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMwD,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC;IACAC,MAAM,CAAC,mCAAmC,EAAE,aAAa,CAAC;IAC1D;EACF,CAAC;EAGD,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1BzC,gBAAgB,CAAC,kBAAkB,CAAC;IACpCF,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;IACxBF,cAAc,CAAC,gCAAgC,CAAC;EAClD,CAAC;EAED,MAAM8C,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,EAAE;MACR9C,gBAAgB,CAAC8C,IAAI,CAAC;MACtB5C,gBAAgB,CAACsB,GAAG,CAACC,eAAe,CAACqB,IAAI,CAAC,CAAC;IAC7C;EACF,CAAC;EAED,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAE/B,IAAIpD,aAAa,EAAE;MACjBmD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAErD,aAAa,CAAC;IACzC,CAAC,MAAM,IAAIE,aAAa,EAAE;MACxB,MAAMoD,GAAG,GAAG,MAAMrC,KAAK,CAACf,aAAa,CAAC;MACtC,MAAMqB,IAAI,GAAG,MAAM+B,GAAG,CAAC/B,IAAI,CAAC,CAAC;MAC7B4B,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE9B,IAAI,EAAE,cAAc,CAAC;IAChD,CAAC,MAAM;MACLhB,OAAO,CAAC+B,KAAK,CAAC,qBAAqB,CAAC;MACpC;IACF;IAEA,MAAMiB,MAAM,GAAGzD,WAAW,IAAI,uBAAuB;IACrDqD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEE,MAAM,CAAC;IAEjC,IAAI;MACF;MACA,MAAMD,GAAG,GAAG,MAAMhE,KAAK,CAACkE,IAAI,CAC1B,yCAAyC,EACzCL,QAAQ,EACR;QACEM,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CACF,CAAC;MAED,MAAMC,OAAO,GAAGJ,GAAG,CAAC5C,IAAI,CAACiD,KAAK,IAAI,eAAe;MACjD9D,OAAO,CAAE+D,IAAI,IAAK,CAChB,GAAGA,IAAI,EACP;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEP;MAAO,CAAC,EACjC;QAAEM,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEJ;MAAQ,CAAC,CACxC,CAAC;MACF3D,cAAc,CAAC,EAAE,CAAC;IACpB,CAAC,CAAC,OAAOsC,GAAG,EAAE;MACZ9B,OAAO,CAAC+B,KAAK,CAAC,iBAAiB,EAAED,GAAG,CAAC;MACrCxC,OAAO,CAAE+D,IAAI,IAAK,CAChB,GAAGA,IAAI,EACP;QAAEC,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAE;MAA6B,CAAC,CAC7D,CAAC;IACJ;EACF,CAAC;EAED,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACjE,WAAW,CAACkE,IAAI,CAAC,CAAC,EAAE;IAEzB,MAAMC,WAAW,GAAG;MAAEJ,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAEhE;IAAY,CAAC;IAC1DD,OAAO,CAAE+D,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEK,WAAW,CAAC,CAAC;IAEzC,IAAI;MACF,MAAMX,GAAG,GAAG,MAAMhE,KAAK,CAACkE,IAAI,CAAC,mCAAmC,EAAE;QAChED,MAAM,EAAEzD;MACV,CAAC,CAAC;MAEF,MAAM4D,OAAO,GAAGJ,GAAG,CAAC5C,IAAI,CAACiD,KAAK,IAAI,eAAe;MACjD,MAAMO,gBAAgB,GAAG;QAAEL,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEJ;MAAQ,CAAC;MAChE7D,OAAO,CAAE+D,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEM,gBAAgB,CAAC,CAAC;IAChD,CAAC,CAAC,OAAO7B,GAAG,EAAE;MACZ9B,OAAO,CAAC+B,KAAK,CAAC,oBAAoB,EAAED,GAAG,CAAC;MACxCxC,OAAO,CAAE+D,IAAI,IAAK,CAChB,GAAGA,IAAI,EACP;QACEC,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE;MACX,CAAC,CACF,CAAC;IACJ;IAEA/D,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;EAED,oBACEP,OAAA;IAAK2E,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACnE/E,OAAA;MAAI2E,KAAK,EAAE;QAAEK,SAAS,EAAE;MAAS,CAAE;MAAAD,QAAA,EAAC;IAAsB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAG/DpF,OAAA;MAAA+E,QAAA,eACE/E,OAAA;QAAOqF,IAAI,EAAC,MAAM;QAACC,MAAM,EAAC,SAAS;QAACC,QAAQ,EAAElC;MAAiB;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CAAC,eAGNpF,OAAA;MAAK2E,KAAK,EAAE;QAAEK,SAAS,EAAE,QAAQ;QAAEQ,SAAS,EAAE;MAAO,CAAE;MAAAT,QAAA,eACrD/E,OAAA;QAAQyF,OAAO,EAAErC,aAAc;QAAA2B,QAAA,EAAC;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxD,CAAC,eAGNpF,OAAA;MAAA+E,QAAA,gBACE/E,OAAA;QAAQyF,OAAO,EAAEvC,iBAAkB;QAAA6B,QAAA,EAAC;MAAY;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACxDpC,MAAM,iBAAIhD,OAAA;QAAK0F,GAAG,EAAE,mCAAoC;QAACC,GAAG,EAAC,gBAAgB;QAAChB,KAAK,EAAE;UAAEiB,KAAK,EAAE;QAAO;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxG,CAAC,EAGL1E,aAAa,iBACZV,OAAA;MAAK2E,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAO,CAAE;MAAAT,QAAA,eAChC/E,OAAA;QACE0F,GAAG,EAAEhF,aAAc;QACnBiF,GAAG,EAAC,UAAU;QACdhB,KAAK,EAAE;UAAEiB,KAAK,EAAE,MAAM;UAAEC,YAAY,EAAE,CAAC;UAAEC,MAAM,EAAE;QAAiB;MAAE;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,EAEA,CAAC5E,aAAa,IAAIE,aAAa,kBAC9BV,OAAA;MAAK2E,KAAK,EAAE;QAAEa,SAAS,EAAE,MAAM;QAAER,SAAS,EAAE;MAAS,CAAE;MAAAD,QAAA,eACrD/E,OAAA;QAAQyF,OAAO,EAAE/B,aAAc;QAAAqB,QAAA,EAAC;MAAgB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtD,CACN,eAGDpF,OAAA;MAAK2E,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAO,CAAE;MAAAT,QAAA,gBAChC/E,OAAA;QACE+F,WAAW,EAAC,+BAA+B;QAC3CC,KAAK,EAAE1F,WAAY;QACnBiF,QAAQ,EAAGjC,CAAC,IAAK/C,cAAc,CAAC+C,CAAC,CAACE,MAAM,CAACwC,KAAK,CAAE;QAChDC,IAAI,EAAE,CAAE;QACRtB,KAAK,EAAE;UAAEiB,KAAK,EAAE,MAAM;UAAEhB,OAAO,EAAE,QAAQ;UAAEiB,YAAY,EAAE;QAAM;MAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC,eACFpF,OAAA;QAAQyF,OAAO,EAAElB,UAAW;QAACI,KAAK,EAAE;UAAEa,SAAS,EAAE;QAAS,CAAE;QAAAT,QAAA,EAAC;MAE7D;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNpF,OAAA;MAAK2E,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAO,CAAE;MAAAT,QAAA,EAC/B3E,IAAI,CAAC8F,GAAG,CAAC,CAACC,GAAG,EAAEC,CAAC,kBACfpG,OAAA;QAEE2E,KAAK,EAAE;UACL0B,UAAU,EAAEF,GAAG,CAAC9B,IAAI,KAAK,MAAM,GAAG,MAAM,GAAG,SAAS;UACpDO,OAAO,EAAE,SAAS;UAClBiB,YAAY,EAAE,KAAK;UACnBS,YAAY,EAAE,QAAQ;UACtBtB,SAAS,EAAEmB,GAAG,CAAC9B,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG;QAC7C,CAAE;QAAAU,QAAA,gBAEF/E,OAAA;UAAA+E,QAAA,GAAIoB,GAAG,CAAC9B,IAAI,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,EAAC,GAAC;QAAA;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,KAAC,EAACe,GAAG,CAAC7B,OAAO;MAAA,GATpD8B,CAAC;QAAAnB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAUH,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGNpF,OAAA;MAAK2E,KAAK,EAAE;QAAEa,SAAS,EAAE;MAAO,CAAE;MAAAT,QAAA,eAChC/E,OAAA,CAACH,cAAc;QAAAoF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,EAGLxE,aAAa,iBAAIZ,OAAA;MAAG2E,KAAK,EAAE;QAAE4B,KAAK,EAAE;MAAQ,CAAE;MAAAxB,QAAA,EAAEnE;IAAa;MAAAqE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChE,CAAC;AAEV;AAACjF,EAAA,CApOQD,GAAG;AAAAsG,EAAA,GAAHtG,GAAG;AAsOZ,eAAeA,GAAG;AAAC,IAAAsG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}